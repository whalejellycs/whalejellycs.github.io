<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:creator" content="@DramaPhilosophy" />
    <meta name="twitter:site" content="@DramaPhilosophy" />
    <meta name="twitter:title" content="Palpitations" />
    <meta name="twitter:description" content="..." />
    <meta name="twitter:image:src" content="https://whalejellycs.github.io/icons/lipstick.png" />
    <meta name="twitter:image:width" content="280" />
    <meta name="twitter:image:height" content="150" />

    <meta property="og:title" content="Palpitations" />
    <meta property="og:description" content="..." />
    <meta property="og:image" content="https://whalejellycs.github.io/icons/lipstick.png" />

    <title>Palpitations</title>
    <link rel="icon" type="image/x-icon" href="icons/lipstick.png" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js" integrity="sha512-ElRFoEQdI5Ht6kZvyzXhYG9NqjtkmlkfYk0wr6wHxU9JEHakS7UJZNeml5ALk+8IKlU6jDgMabC3vkumRokgJA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    </head>
    <style>
        body, a, footer {
            background-color: black;
            color: rgb(250, 232, 243);
            font-family: Helvetica
        }
    </style>
    <body>
        Click on right-hand-side components to <strong>activate</strong>/<strong><font style="color:rgba(250, 232, 243,0.5)">deactivate</font></strong>! &nbsp;
        <h1>
            <center>
                f(x) = <span id="component1" onclick=alert("hi")>x²ᐟ³</span> + 
                <span id="component2" onclick=alert("hi")>0.9√</span>
                <span id="component3" onclick=alert("hi")>(8-x²)</span>
                <span id="component4" onclick=alert("hi")>sin(πax)</span>
            </center>
        </h1>
        <canvas id="ecgDiagram" style="width:100%"></canvas>

        <script>
            Chart.defaults.color = 'rgb(250, 232, 243)';

            var a = 20;
            var xValues = [];
            var yValues = [];
            plotCurve("Math.pow(Math.pow(x,2),1/3)+0.9*Math.pow(8-Math.pow(x,2),0.5)*Math.sin(Math.PI*a*x)", -3, 3.1, 0.001);

            new Chart("ecgDiagram", {
                type: "line",
                data: {
                    labels: xValues,
                    datasets: [{
                        fill: true,
                        pointRadius: 2,
                        borderColor: 'rgba(255,50,173,1)',
                        //pointBorderColor: "neonpink",
                        pointBackgroundColor: 'rgba(241,12,69,1)',
                        //pointBorderWidth:2,
                        pointHoverBorderColor: 'rgba(255,0,100,1)',
                        pointHoverRadius: 7,
                        pointStyle: 'star',
                        data: yValues
                    }]
                },
                options: {
                    plugins: {
                        legend: { display: false },
                        //title: {
                        //    display: true,
                        //    text: "f(x) = x²ᐟ³ + 0.9√(8-x²)sin(πax)",
                        //    font: { size: 16 }
                        //}
                    },
                    scales: {
                        x: {
                            ticks: {
                                //stepSize:0.5,
                                //min: -3, max: 3, stepSize: 0.5, //autoSkip: false,
                                callback: function (val, ind) {
                                    return (this.getLabelForValue(val).toFixed(1) % 0.5 == 0) ?
                                        this.getLabelForValue(val).toFixed(1) : '';
                                }
                            },
                            grid: {
                                color: "lightpink", lineWidth: 0.2
                            }
                        },
                        y: {
                            grid: {
                                color: "lightpink", lineWidth: 0.2
                            }
                        }
                    }

                }
            });

            function plotCurve(value, start, end, step = 1) {
                for (let x = start; x <= end; x += step) {
                    yValues.push(eval(value));
                    xValues.push(x);
                }
            }
        </script>

        <footer align="right" style="font-size: 12px">
            <a href="https://twitter.com/DramaPhilosophy?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow @DramaPhilosophy</a>
            <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
            <br />
            <br />
            <a href="https://www.flaticon.com/free-icons/makeup">Tab icon</a>: <a href="https://www.flaticon.com/authors/freepik">Freepik</a> @ <a href="https://www.flaticon.com/">Flaticon</a>
        </footer>
    </body>
</html>
